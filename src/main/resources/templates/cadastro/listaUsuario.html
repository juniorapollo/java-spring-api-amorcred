<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:include="fragments/scripts :: header">


    </head>



    <body class="fixed-left">
        <div id="wrapper">   

            <!--Navbar-->
            <div th:include="navbar/navbar :: navbar"></div>
            <!--Menu-->
            <th:block th:include="menu/menu :: menu"></th:block> 

            <!-- ============================================================== -->
            <!-- Start right Content here -->
            <!-- ============================================================== -->                   
            <div class="content-page">
                <!-- Start content -->
                <div class="content">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <!--Botão Adicionar-->
                                        <a href="../../../cadastro/usuario-adicionar"><button title="Novo Usuário" class="btn  btn-success pull-right"><i class="md-person-add" ></i> Adicionar</button></a>   
                                        <h3 class="panel-title">Usuários</h3>
                                    </div> 


                                    <div class="panel-body table-rep-plugin"> 
                                        <th:block th:include="fragments/mensagemSucesso :: mensagemSucesso"></th:block>                                    

                                        <div class="table-responsive" data-pattern="priority-columns">                                        
                                            <div class="row">
                                                <div class="col-md-12 col-sm-12 col-xs-12">

                                                    <table id="datatable" class="table table-striped table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Cod</th>
                                                                <th>Nome</th>
                                                                <th>CPF</th>
                                                                <th>Sexo</th>
                                                                <th>Email</th>
                                                                <th>Nível</th>
                                                                <th>Login</th>
                                                                <th>Senha</th>
                                                                <th>Ações</th> 
                                                            </tr>
                                                        </thead>

                                                        <tbody>
                                                            <tr th:each=" usuario : ${usuario}" th:if="${usuario.isAtivo()}">
                                                                <td><span th:text="${usuario.idUsuario}"></span></td>                                                            
                                                                <td><span th:text="${usuario.nome}"></span></td>
                                                                <td><span th:text="${usuario.cpf}"></span></td>
                                                                <td><span th:text="${usuario.sexo}"></span></td>                                                                
                                                                <td><span th:text="${usuario.email}"></span></td>                                                            
                                                                <td><span th:switch="${usuario.nivelUsuario}">
                                                                        <span th:case="${1}">Administrador</span>
                                                                        <span th:case="${2}">Supervisor</span>                                                                   
                                                                        <span th:case="${3}">Comun</span>  
                                                                    </span>
                                                                </td>
                                                                <td><span th:text="${usuario.login}"></span></td>
                                                                <td><span th:text="${usuario.senha}"></span></td>
                                                                <td class="col-sm-2"> 
                                                                    <a  style="padding: 0px" class="btn btn-group-sm btn-custom pull-left" href = "#" th:href = "@{'/cadastro/usuario-editar/'+${usuario.idUsuario}}" title = "Editar"><i class= "  md-create" style="color: #085;font-size: x-large;" ></i> </a> 
                                                                    <form th:object="${usuario}" th:action = "@{'/hellohi/api/usuario/'+${usuario.idUsuario}}" th:method="DELETE">                                                                        
                                                                        <a href = "#" title = "Excluir" style="padding: 0px" class="btn btn-group-sm btn-custom pull-right" data-toggle="modal" data-target=".bs-example-modal-sm"><i class= " md-delete" style="color: red;font-size: x-large;"></i></a>
                                                                        <!--Modal Para confirmar Exclusão-->
                                                                        <th:block th:include="fragments/modalExcluir :: modalExcluirUsuario"></th:block> 
                                                                    </form><!-- Fim Form -->                                                                    
                                                                </td>
                                                            </tr>
                                                        </tbody>

                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div> <!-- End Row -->


                    </div> <!-- container -->

                </div> <!-- content -->

               


            </div>
            <!-- ============================================================== -->
            <!-- Start right Content here -->
            <!-- ============================================================== --> 
        </div> <!--Navbar-->

        <script>
            var resizefunc = [];
        </script>

        <!--Scripts-->
        <th:block th:include="fragments/scripts :: scripts"></th:block> 

        <!--Scripts Específicos-->
        <script th:src="@{/assets/datatables/jquery.dataTables.min.js}"></script>
        <script th:src="@{/assets/datatables/dataTables.bootstrap.js}"></script>


        <script type="text/javascript">
            $(document).ready(function () {
                $('#datatable').dataTable();
            });
        </script>
    </body>
</html>